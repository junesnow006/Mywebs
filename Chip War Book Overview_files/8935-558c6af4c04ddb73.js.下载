(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8935],{212:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});var n=o(2341);class i{async init(){return new Promise(e=>{n.Ay.init("phc_QH92qoJ9zYh2LUuj5goa6NgqgnMOAkdR6gqUCEJL1Eq",{api_host:"https://us.i.posthog.com",capture_pageview:!0,loaded:()=>{this.initialized=!0,e()}})})}track(e,t){n.Ay.capture(e,t)}registerPublicProperties(e){n.Ay.register(e||{})}identify(e){e?n.Ay.register({user_id:e.uid,user_anonymous:e.is_anonymous,user_email:e.email,user_name:e.display_name}):n.Ay.register({user_id:"",user_anonymous:"",user_email:"",user_name:""})}constructor(){this.initialized=!1}}class s{init(){return console.log("[Max]Volcano initialized"),Promise.resolve()}track(e,t){window.collectEvent&&window.collectEvent(e,t)}registerPublicProperties(e){window.collectEvent&&(window.collectEvent("config",e),window.collectEvent("send"))}identify(e){window.collectEvent&&(e?(window.collectEvent("config",{user_unique_id:e.uid}),window.collectEvent("profileSet",{user_anonymous:e.is_anonymous,user_email:e.email,user_name:e.display_name})):(window.collectEvent("config",{user_unique_id:null}),window.collectEvent("profileSet",{user_unique_id:"",user_anonymous:"",user_email:"",user_name:""})))}}class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}async init(){this.initialized||(this.providers=[new i,new s],await Promise.all(this.providers.map(e=>e.init())),this.initialized=!0,console.log("[Max]Initialized"),this.processQueue())}track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.initialized){this.queue.push({event:e,properties:t});return}this.providers.forEach(o=>{"https://www.yourware.so".includes("staging")||o.track(e,t)})}trackGoogleAds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.gtag&&window.gtag("event",e,t)}registerPublicProperties(e){this.providers.forEach(t=>{t.registerPublicProperties(e)})}identify(e){this.providers.forEach(t=>{t.identify(e)})}processQueue(){this.queue.forEach(e=>{this.providers.forEach(t=>{t.track(e.event,e.properties)})}),this.queue=[]}constructor(){this.initialized=!1,this.queue=[],this.providers=[]}}},466:(e,t,o)=>{"use strict";o.d(t,{qM:()=>r,Gp:()=>s});var n=o(3464);async function i(e){return null}o(7577);let s=async(e,t)=>{try{let n=e,i=null,s={...(null==t?void 0:t.headers)||{}};if(s["Content-Type"]||(null==t?void 0:t.body)instanceof FormData||(s["Content-Type"]="application/json"),null==t?void 0:t.data){if("GET"!==t.method&&t.method)i=JSON.stringify(t.data);else{let e=new URLSearchParams;Object.entries(t.data).forEach(t=>{let[o,n]=t;e.append(o,String(n))}),n="".concat(n).concat(n.includes("?")?"&":"?").concat(e.toString())}}console.log("[fetchNextApi] ".concat((null==t?void 0:t.method)||"GET"," ").concat(n,", body: ").concat(i));let a=await fetch(n,{...t,headers:s,body:i||(null==t?void 0:t.body)}),r=await a.json();if(console.log("[fetchNextApi] ".concat((null==t?void 0:t.method)||"GET"," ").concat(n," response: ").concat(JSON.stringify(r))),!a.ok||0!==r.code){if(401===a.status){var o;let e=window.location.pathname+window.location.search,t=(o="https://www.yourware.so",void 0!==o)?o:"";window.location.href="".concat(t,"/login?returnTo=").concat(encodeURIComponent(e))}return Promise.reject({status:a.status||500,code:r.code||-500,message:r.message||"unknown error",request_id:r.request_id||""})}return r}catch(t){return console.log("[fetchNextApi] API ".concat(e," error:"),t),Promise.reject({status:500,code:-500,message:"unknown error",request_id:""})}},a=n.A.create({baseURL:"https://api.yourware.so",timeout:6e4});a.interceptors.request.use(async e=>{e.headers["Content-Type"]||(e.headers["Content-Type"]="application/json");let t=await i(e);if(t){let o=n.A.CancelToken.source();return e.cancelToken=o.token,o.cancel("Request cancelled by mock"),Promise.reject({mock:!0,data:t})}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e.data,e=>{var t,o,n,i,s,a,r,l,c,d;return e.mock&&e.data?e.data:(null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.status_code)?Promise.reject(e.response.data):Promise.reject({status_code:(null===(n=e.response)||void 0===n?void 0:n.status)||500,code:(null===(s=e.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.code)||(null===(a=e.response)||void 0===a?void 0:a.status)||500,message:(null===(l=e.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.message)||e.message||"Unknown error",request_id:(null===(d=e.response)||void 0===d?void 0:null===(c=d.data)||void 0===c?void 0:c.request_id)||"",data:null})});let r=async(e,t,o)=>{let n="".concat(null!=o?o:"/api","/").concat(e.startsWith("/")?e.replace("/",""):e),i=new URLSearchParams;(null==t?void 0:t.params)&&Object.entries(t.params).forEach(e=>{let[t,o]=e;i.append(t,o)});let s=i.toString(),a=s?"".concat(n,"?").concat(s):n;try{var r,l,c,d,u,m;let e={...null==t?void 0:t.headers};e["Content-Type"]||(null==t?void 0:t.body)instanceof FormData||(e["Content-Type"]="application/json");let o=await fetch(a,{headers:e,method:null!==(r=null==t?void 0:t.method)&&void 0!==r?r:"GET",body:(null==t?void 0:t.data)?JSON.stringify(t.data):null==t?void 0:t.body}),n=await o.json();if(!o.ok){if(401===o.status){let e=window.location.pathname+window.location.search,t=(l="https://www.yourware.so",void 0!==l)?l:"";window.location.href="".concat(t,"/login?returnTo=").concat(encodeURIComponent(e))}if((null==n?void 0:n.status_code)&&(null==n?void 0:n.code))return Promise.reject(n);let e=(c=o.status,d=(null==n?void 0:n.code)||o.status,u=(null==n?void 0:n.message)||o.statusText,m=(null==n?void 0:n.request_id)||"",{status_code:c,code:d,message:u,request_id:m,data:null});return Promise.reject(e)}return n}catch(t){return console.log("commonFetch API ".concat(e," error"),t),Promise.reject(t)}}},6389:(e,t,o)=>{"use strict";o.d(t,{s:()=>s});var n=o(2115),i=o(9891);function s(){let e=(0,n.useContext)(i.I);if(!e)throw Error("useAnalytics must be used within AnalyticsProvider");return{track:(0,n.useCallback)(function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.track(t,o)},[e]),trackGoogleAds:(0,n.useCallback)(function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.trackGoogleAds(t,o)},[e]),registerPublicProperties:(0,n.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.registerPublicProperties(t)},[e]),identify:(0,n.useCallback)(t=>{e.identify(t)},[e])}}},7577:(e,t,o)=>{"use strict";o.r(t),o.d(t,{mockConfig:()=>n});let n={enabled:!1,delay:500,mockPath:"/mocks",apis:{"v1/tasks/lens":{enabled:!1,delay:800,method:"POST",mockfilePath:"v1/tasks/lens.json"},"v1/tasks/mock-task-123":{enabled:!1,delay:800,method:"GET",mockfilePath:"v1/tasks/mock-task-123.json"},"v1/community/emoji/list":{enabled:!1,delay:800,method:"GET",mockfilePath:"v1/community/emoji/list.json"}}}},8436:(e,t,o)=>{"use strict";let n;o.d(t,{B:()=>a,P:()=>s});let i=()=>{},s=e=>{clearTimeout(n),i(e),n=setTimeout(()=>{(null==e?void 0:e.message)===e.message&&i(null)},e.duration||3e3)},a=e=>i=e},9622:(e,t,o)=>{var n={"./mockConfig":[7577,9],"./mockConfig.ts":[7577,9],"./mockTaskSSE":[7519,9,7519],"./mockTaskSSE.ts":[7519,9,7519],"./sseEvents":[8463,9,8463],"./sseEvents.ts":[8463,9,8463],"./v1/community/emoji/list":[2745,3,2745],"./v1/community/emoji/list.json":[2745,3,2745],"./v1/tasks/lens":[8756,3,6375],"./v1/tasks/lens.json":[8756,3,6375],"./v1/tasks/mock-task-123":[4390,3,4390],"./v1/tasks/mock-task-123.json":[4390,3,4390]};function i(e){if(!o.o(n,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],i=t[0];return Promise.all(t.slice(2).map(o.e)).then(()=>o.t(i,16|t[1]))}i.keys=()=>Object.keys(n),i.id=9622,e.exports=i},9891:(e,t,o)=>{"use strict";o.d(t,{AnalyticsProvider:()=>r,I:()=>a});var n=o(5155),i=o(2115),s=o(212);let a=(0,i.createContext)(null);function r(e){let{children:t}=e;return(0,i.useEffect)(()=>{s.A.getInstance().init()},[]),(0,n.jsx)(a.Provider,{value:s.A.getInstance(),children:t})}}}]);