"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6233],{4744:(e,t,r)=>{r.d(t,{A$:()=>o,e6:()=>s,xx:()=>n});var a=r(466);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"published",r=arguments.length>2?arguments[2]:void 0,s={};return e.cursor&&(s.cursor=e.cursor),e.page_size&&(s.page_size=e.page_size),await (0,a.qM)("/v1/users/".concat(e.uid,"/").concat("published"===t?"projects":"drafts"),{method:"GET",params:s,extra_headers:r})}async function o(e){return await (0,a.qM)("/v1/users/".concat(e.uid,"/link_projects"),{method:"POST",data:{project_ids:e.project_ids}})}async function n(e,t){return await (0,a.qM)("/v1/projects/delete",{method:"POST",data:{project_ids:e,uid:t}})}},6233:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var a=r(5155),s=r(5427),o=r(6766),n=r(6874),l=r.n(n),c=r(5695),i=r(2115),d=r(8175);let u={showBanner:()=>{let e=localStorage.getItem("banner_close_date");return!e||e!==new Date().toISOString().split("T")[0]},closeBanner:()=>{let e=new Date().toISOString().split("T")[0];localStorage.setItem("banner_close_date",e)}},x=e=>{let{showBanner:t=!0,onClose:r}=e,[o,n]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{n(u.showBanner())},[]),t&&o)?(0,a.jsx)("div",{className:"fixed top-0 right-0 left-0 z-[40] flex h-[64px] items-center bg-[#3E413C] px-4 md:h-[50px]",children:(0,a.jsxs)("div",{className:"z-10 flex flex-1 items-center justify-between md:justify-center",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start justify-center text-[14px] font-bold text-[#C4AA7A] md:flex-row md:items-center md:text-[16px]",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{children:"100 Views ="}),(0,a.jsx)("div",{className:"ml-2 text-[21px] font-[700] md:text-[24px]",children:"$1"})]}),(0,a.jsx)("div",{className:"mx-3 hidden h-[16px] w-[1px] bg-[#C4AA7A] md:block"}),(0,a.jsx)("div",{className:"max-xs:hidden",children:"Earn Bonuses from Your Projects!"}),(0,a.jsx)("div",{className:"ml-2 hidden font-normal opacity-65 lg:block",children:"More views, More cash"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-brand ml-3 rounded-[10px] bg-[#F6F4F1] px-2.5 py-2 text-[12px] hover:cursor-pointer hover:opacity-85",onClick:()=>{window.open("https://discord.com/invite/SJ4ghErDB3","_blank")},children:"Check Details"}),(0,a.jsx)(s.Qks,{className:"ml-1 h-4 w-4 text-[#C4AA7A] hover:cursor-pointer hover:opacity-85 md:absolute md:right-[22px]",onClick:()=>{n(!1),u.closeBanner(),r&&r()}})]})]})}):null};var m=r(9137),h=r.n(m),p=r(8436);let f=()=>{var e,t;let{user:r,logout:o}=(0,d.A)(),[n,l]=(0,i.useState)(!1),u=(0,i.useRef)(null),x=(0,c.useRouter)();(0,i.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let m=async()=>{try{await o(),x.push("/home")}catch(e){(0,p.P)({message:"Failed to logout, please try again later",type:"error"})}l(!1)},f=()=>{r&&r.uid&&x.push("/profile/".concat(r.uid))};return r?(0,a.jsxs)("div",{ref:u,className:"jsx-e68520c3668174cd relative",children:[(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex items-center",children:[(0,a.jsx)("button",{onClick:f,"aria-label":"Go to profile",className:"jsx-e68520c3668174cd cursor-pointer transition-transform focus:outline-none",children:(0,a.jsx)("img",{src:r.photo_url||"/images/avatar.svg",alt:"",width:24,height:24,className:"jsx-e68520c3668174cd overflow-hidden rounded-full object-cover"})}),(0,a.jsx)("button",{onClick:()=>{l(!n)},"aria-expanded":n,"aria-haspopup":"true",className:"jsx-e68520c3668174cd ml-1 cursor-pointer rounded-full hover:bg-black/3 focus:outline-none",children:(0,a.jsx)(s.O9s,{className:"h-4 w-4 rounded-full text-black"})})]}),n&&(0,a.jsxs)("div",{style:{animation:"fadeIn 0.2s ease-out"},className:"jsx-e68520c3668174cd absolute right-0 z-10 w-[208px] rounded-[16px] border border-black/3 bg-white p-1 shadow-lg",children:[(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex flex-col items-center",children:[r.photo_url?(0,a.jsx)("div",{onClick:f,className:"jsx-e68520c3668174cd mt-6 mb-2 h-16 w-16 cursor-pointer overflow-hidden rounded-full",children:(0,a.jsx)("img",{src:r.photo_url,alt:"User avatar",width:64,height:64,className:"jsx-e68520c3668174cd rounded-full object-cover"})}):(0,a.jsx)("div",{className:"jsx-e68520c3668174cd mt-6 mb-2 flex h-16 w-16 items-center justify-center rounded-full bg-gray-200 text-xl text-gray-600",children:(null===(e=r.display_name)||void 0===e?void 0:e.charAt(0))||(null===(t=r.email)||void 0===t?void 0:t.charAt(0))||"U"}),(0,a.jsx)("div",{className:"jsx-e68520c3668174cd text-[16px] text-black/95 sm:text-[20px]",children:r.display_name||"User"}),(0,a.jsx)("div",{className:"jsx-e68520c3668174cd mt-0.5 mb-3 text-[12px] leading-[14px] text-black/65",children:r.email})]}),(0,a.jsx)("div",{className:"jsx-e68520c3668174cd mx-3 my-1.5 h-px bg-black/6"}),(0,a.jsxs)("button",{onClick:m,className:"jsx-e68520c3668174cd flex w-full cursor-pointer items-center justify-start gap-3 rounded-[12px] px-3 py-2 text-black transition-colors hover:bg-gray-100",children:[(0,a.jsx)(s.jfQ,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"jsx-e68520c3668174cd text-black/95",children:"Logout"})]})]}),(0,a.jsx)(h(),{id:"e68520c3668174cd",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]}):null},g=e=>{let{showBanner:t=!1,hideRight:r=!1}=e,{user:n}=(0,d.A)(),m=(0,c.useRouter)(),h=(0,c.usePathname)(),[p,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{g(u.showBanner())},[]),(0,i.useEffect)(()=>{!r&&(null==n?void 0:n.uid)&&m.prefetch("/profile/".concat(n.uid))},[null==n?void 0:n.uid,r]);let y=t&&p;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{showBanner:y,onClose:()=>{g(!1)}}),(0,a.jsx)("header",{className:"h-14 w-full",children:(0,a.jsxs)("div",{className:"bg-body fixed right-0 left-0 z-50 flex w-full items-center justify-between px-4 py-3 transition-all duration-300 ".concat(y?"top-[64px] md:top-[50px]":"top-0"),children:[(0,a.jsx)(l(),{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.default,{src:"/icons/logo.svg",alt:"Logo",width:24,height:24,priority:!0,className:"text-brand"}),(0,a.jsx)("div",{className:"mt-[3px] text-base text-black/95 lg:text-xl xl:text-[20px] ".concat(!r&&"max-[400px]:hidden"),children:"yourware"}),(0,a.jsx)("div",{className:"rounded-sm border-[0.5px] border-black px-1 py-0.5 text-[10px] text-black",children:"Alpha"})]})}),!r&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l(),{href:"https://wa.me/85254252243",target:"_blank",className:"rounded-[10px] p-2 transition-all hover:bg-black/3",children:(0,a.jsx)(s.faC,{size:16,className:"text-black/95"})}),(0,a.jsx)(l(),{href:"https://discord.gg/SJ4ghErDB3",target:"_blank",className:"ml-2 rounded-[10px] p-2 transition-all hover:bg-black/3",children:(0,a.jsx)(s.r53,{size:16,className:"text-black/95"})}),(0,a.jsx)(l(),{href:"/blog",className:"ml-2 rounded-[10px] p-2 transition-all hover:bg-black/3 ".concat(h.startsWith("/blog")?"bg-white":""),children:(0,a.jsx)(s.cPU,{size:16,className:"text-black/95"})}),(0,a.jsx)("div",{className:"mx-3 h-[12px] w-[1px] bg-black/12"}),n?(0,a.jsx)(f,{}):(0,a.jsx)(l(),{href:"/login",className:"bg-brand rounded-[10px] px-3 py-2 text-sm leading-[16px] text-white",children:"Sign up"})]})]})})]})}},8175:(e,t,r)=>{let a,s;r.d(t,{AuthProvider:()=>j,A:()=>b});var o=r(5155),n=r(5695),l=r(2115),c=r(3915),i=r(6203);let d=JSON.parse('{"apiKey":"AIzaSyB9Jdqpb4h5RgHmRRJSfqTOfBT-DPV34jA","authDomain":"gglogin.yourware.so","projectId":"yourware-arco","storageBucket":"yourware-arco.firebasestorage.app","messagingSenderId":"541265544701","appId":"1:541265544701:web:d52622395895582c9c4594"}');function u(){if(!s){let{auth:e}=d?(a=(0,c.Dk)().length?(0,c.Dk)()[0]:(0,c.Wp)(d),s=(0,i.xI)(a),(0,i.oM)(s,i.gz),{app:a,auth:s}):(console.error("firebaseConfig is undefined"),{app:void 0,auth:void 0});s=e}return s}async function x(e){let t=e.user,r=t.providerData.find(e=>"google.com"===e.providerId);if(r){let{displayName:e,photoURL:a}=r;if(!t.displayName&&e&&await (0,i.r7)(t,{displayName:e}),!t.photoURL&&a){let e=a.replace(/=s\d+-c$/,"=s400-c");await (0,i.r7)(t,{photoURL:e})}}let a=await t.getIdToken(),s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:a})}),o=await s.json();return console.log("postGoogleAuth response",o),o}async function m(){let e=u();if(!e)throw console.error("auth is undefined"),Error("auth is undefined");let t=new i.HF;try{var r;let a=await (0,i.df)(e,t);await e.signOut();let s=await x(a);if(!(null===(r=s.data)||void 0===r?void 0:r.userInfo))throw Error("Failed to login");return s.data.userInfo}catch(e){throw console.error("sign in with google error:",e),e}}async function h(){let e=u();if(!e)throw console.error("auth is undefined"),Error("auth is undefined");try{return await e.signOut(),console.log("sign out successfully"),await fetch("/api/auth/logout",{method:"POST"})}catch(e){throw console.error("sign out error:",e),e}}var p=r(4744),f=r(6389),g=r(466);let y=(0,l.createContext)({user:null,isLoading:!1,loginWithGoogle:async()=>{},logout:async()=>{},updateProfile:async(e,t)=>Promise.resolve({code:0,message:"Success",request_id:"",data:null})}),j=e=>{let{currentUser:t,children:r}=e,[a,s]=(0,l.useState)(t),[c,i]=(0,l.useState)(!1);(0,n.useRouter)();let{identify:d}=(0,f.s)();(0,l.useEffect)(()=>{s(t)},[t]),(0,l.useEffect)(()=>{d(a)},[a]);let u=async()=>{try{i(!0);let e=await m();if(console.log("sign in with google success"),s(e),null==e?void 0:e.uid){let t=JSON.parse(localStorage.getItem("Anonymous_Projects")||"[]");t.length>0&&(0,p.A$)({uid:e.uid,project_ids:t}).then(()=>{console.log("Projects linked successfully in background"),localStorage.removeItem("Anonymous_Projects")}).catch(e=>console.error("Background project linking failed:",e))}}catch(e){throw console.error("sign in with google error:",e),e}finally{i(!1)}},x=async()=>{try{console.log("sign out"),await h(),s(null)}catch(e){throw console.error("sign out error:",e),e}},j=async(e,t)=>{try{let r=new FormData;return e&&r.append("name",e),t&&r.append("photo",t),await (0,g.qM)("/user/refresh",{method:"POST",body:r})}catch(e){throw console.error("update profile error:",e),e}};return(0,o.jsx)(y.Provider,{value:{user:a,isLoading:c,loginWithGoogle:u,logout:x,updateProfile:j},children:r})},b=()=>(0,l.useContext)(y)}}]);